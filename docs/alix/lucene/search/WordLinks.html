<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (11.0.9.1) on Sun Nov 15 17:11:01 CET 2020 -->
<title>WordLinks</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-11-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WordLinks";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WordLinks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">alix.lucene.search</a></div>
<h2 title="Class WordLinks" class="title">Class WordLinks</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>alix.lucene.search.WordLinks</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">WordLinks</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block"><p>
 Collect cooccurrences data from texts, according to 
 Stefan Evert. 2005, 
 <a href="https://elib.uni-stuttgart.de/bitstream/11682/2573/1/Evert2005phd.pdf">The Statistics of Word Cooccurrences, Word Pairs and Collocations.</a> 
 and Gambette &amp; Véronis 2009 
 <a href="http://igm.univ-mlv.fr/~gambette/2009GambetteVeronis.pdf">Visualising a Text with a Tree Cloud</a>,
 allowing to draw dendrograms or networks.
 </p>
 <p>
 The raw frequency of words in texts give usually a lot of information about the contents.
 For example, texts with lots of occurrences of the word "literature" should talk about "theater" and "poetry", 
 but sometimes, the corpus is more about "scientific literature". The link between words is important.
 Give a sensible picture of such information need some art, but first, we need to collect information,
 and not forget what we could need.
 </p>
 <p>
 If a sliding window of words (ex: 30, the span of a reader immediate attention) cross a set of texts of wc words (wc = word count) 
 by some step (1 word is complete but expensive), it produces N events (= wc/step).
 A data structure can record co-presence counts of words inside the window at each step.
 Let say a="parce", and b="que" ("parce que" is a very common French phrase).
 When "parce" is present in the window, the event could be counted by increment a variable called a1, when it is absent, call it a0; same for "que", b1 and b0.
 Sometimes, a and b are together present in the window (ab11), 
 a and b may also not be in the window (ab00), b="que" is very often in the window without a="parce" (ab01), and in very special case, when "parce"
 is the last word of the window, a may be in the window without b="que" (ab10). 
 The task could be done for a limited word list, or may be all, recording spare matrix of all couples.
 We fill that a="parce" is highly connected to b="que", but "que" has 
 lots of other connections (ex: "Est-ce que ?"). 
 We would like nice formula to prune very common words with low signification, like "to be", 
 but keeping them in non predictable cases, for example, the personal pronouns are not equally used and could be highly significant in some
 contexts, like the second person "you" in a novel, usually in dialogs.
 Other sciences has already encountered such problems, especially, natural history (biodiversity indices, species proximity by characteristics or genes).
 </p>
 <p>
 Compiling statistic literature about this topic, Evert presents a lots of possible metric calculation using ab11, ab10, ab01, ab00,
 but without a critic examination to choose one or another. Gambette &amp; Veronis has evaluated 14 formula, and found that some are 
 not enough robust (ex: delete one word out 5 does not affect too much sense for a human, it should not affect a calculated picture).
 People who have played with such visualization know how volatile can be trees, classifications or pictures, with little modifications of parameters.
 Good metrics should be robust.
 The Gambette &amp; Veronis results are very instructive, but they do not try an explanation of their observations. 
 </p>
 <ul>
  <li>Jaccard: a ∩ b / a ∪ b = ab11 / (ab11 + ab10 + ab01) </li>
  <li>Odds Ratio: log(
  <li>Mutual information: log(P(a, b)/P(a)P(b)) = (ab11 / N) / (a1/N * b1/N) = log(N * ab11 / a1*b1)</li>
 </ul>
 <p>
 According to Gambette &amp; Veronis, mutual information is the worst distance measure for their protocol, and Jaccard among the best.
 The expected value (probability P(x)) is very common in statistics, but does it make sense for texts?
 Expectation is said of random variables, like a dice, where the values from 1 to 6 define a closed and complete universe.
 For texts, absence of a word does not make sense, because a corpus is never complete, there is always a universe outside of texts, 
 with lost opuses and works to be written.
 A corpus, even a supposed perfect book like Bible or Coran,
 can always be another (different versions), so lexical statistics should not rely on the total of words N (expected value or negation).
 A well known example will help. Consider the dictionary like a supermarket with lots of products. We can compare the basket of 2 people (2 texts)
 according to what they have not buy (no children toys for each, does it mean that they have no children?). 
 It is much more interesting to compare the products they have in common, and the ones they do not
 share. It is exactly the goal of Jaccard formula a ∩ b / a ∪ b. Jaccard was a Swiss botanist comparing ecosystems, he knew that 
 we can’t be confident in the absence of a species, all conclusions should rely on presences.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(alix.lucene.Alix,java.lang.String,org.apache.lucene.util.BitSet,int)">WordLinks</a></span>&#8203;(<a href="../Alix.html" title="class in alix.lucene">Alix</a>&nbsp;alix,
         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;field,
         org.apache.lucene.util.BitSet&nbsp;docs,
         int&nbsp;dim)</code></th>
<td class="colLast">
<div class="block">To build a word distance matrix we need
 
  <a href="../Alix.html" title="class in alix.lucene"><code>Alix</code></a> alix: an index (lucene)
  String field: a field with indexed terms
  BitSet filter: a set of documents
  int dim: The number of terms to explore as a matrix, usually, the most frequents
 
 Steps of construction
 
  Get the freqlist of terms for the set of documents, with a global int index for each term
  
  A map from global term index to the local index
 </div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(alix.lucene.Alix,java.lang.String,org.apache.lucene.util.BitSet,int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WordLinks</h4>
<pre>public&nbsp;WordLinks&#8203;(<a href="../Alix.html" title="class in alix.lucene">Alix</a>&nbsp;alix,
                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;field,
                 org.apache.lucene.util.BitSet&nbsp;docs,
                 int&nbsp;dim)
          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">To build a word distance matrix we need
 <ul>
  <li><a href="../Alix.html" title="class in alix.lucene"><code>Alix</code></a> alix: an index (lucene)</li>
  <li>String field: a field with indexed terms</li>
  <li>BitSet filter: a set of documents</li>
  <li>int dim: The number of terms to explore as a matrix, usually, the most frequents</li>
 </ul>
 Steps of construction
 <ol>
  <li>Get the freqlist of terms for the set of documents, with a global int index for each term</li>
  <li>
  <li>A map from global term index to the local index
 </ol></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WordLinks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
